{"version":3,"sources":["imagenModel.js"],"names":["sharp","require","path","exports","convertirImagen","rutaImagenOriginal","formato","console","log","nombreArchivoConvertido","Date","now","toLowerCase","rutaImagenConvertida","join","__dirname","toFormat","toFile","error","Error"],"mappings":";;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEAE,OAAO,CAACC,eAAR,GAA0B,iBAAOC,kBAAP,EAA2BC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEtBC,UAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CH,kBAA3C;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,OAAxB;AAEMG,UAAAA,uBALgB,wBAKwBC,IAAI,CAACC,GAAL,EALxB,cAKsCL,OAAO,CAACM,WAAR,EALtC;AAMhBC,UAAAA,oBANgB,GAMOX,IAAI,CAACY,IAAL,CAAUC,SAAV,gCAA4CN,uBAA5C,EANP,EAQtB;;AARsB;AAAA,0CAShBT,KAAK,CAACK,kBAAD,CAAL,CACHW,QADG,CACMV,OAAO,CAACM,WAAR,EADN,EAEHK,MAFG,CAEIJ,oBAFJ,CATgB;;AAAA;AAatBN,UAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CK,oBAA9C;AAbsB,2CAefA,oBAfe;;AAAA;AAAA;AAAA;AAiBtBN,UAAAA,OAAO,CAACW,KAAR,CAAc,+BAAd;AAjBsB,gBAkBhB,IAAIC,KAAJ,CAAU,8BAAV,CAlBgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA1B","sourcesContent":["const sharp = require('sharp');\r\nconst path = require('path');\r\n\r\nexports.convertirImagen = async (rutaImagenOriginal, formato) => {\r\n  try {\r\n    console.log('Ruta de la imagen original:', rutaImagenOriginal);\r\n    console.log('Formato:', formato);\r\n\r\n    const nombreArchivoConvertido = `convertida_${Date.now()}.${formato.toLowerCase()}`;\r\n    const rutaImagenConvertida = path.join(__dirname, `../public/converted/${nombreArchivoConvertido}`);\r\n\r\n    // Utiliza Sharp u otra biblioteca para convertir la imagen\r\n    await sharp(rutaImagenOriginal)\r\n      .toFormat(formato.toLowerCase())\r\n      .toFile(rutaImagenConvertida);\r\n\r\n    console.log('Imagen convertida con Ã©xito a:', rutaImagenConvertida);\r\n\r\n    return rutaImagenConvertida;\r\n  } catch (error) {\r\n    console.error('Error al convertir la imagen:', error);\r\n    throw new Error('Error al convertir la imagen');\r\n  }\r\n};\r\n"],"file":"imagenModel.dev.js"}