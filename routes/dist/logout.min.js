"use strict";var express=require("express"),router=express.Router();router.get("/",function(n,s){return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(n.logout(function(e){return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e&&console.error(e),r.next=3,regeneratorRuntime.awrap(n.session.destroy(function(r){if(r)return console.error("Error al destruir la sesión:",r),s.status(500).send("Error al cerrar sesión");console.log("req.session.destroy finalizado correctamente")}));case 3:return r.next=5,regeneratorRuntime.awrap(n.sessionStore.clear(function(r){if(r)return console.error("Error al limpiar el almacén de sesiones:",r),s.status(500).send("Error al cerrar sesión");console.log("req.sessionStore.clear finalizado correctamente")}));case 5:carritoCache={},s.clearCookie("token"),s.redirect("/");case 8:case"end":return r.stop()}})}));case 3:r.next=9;break;case 5:r.prev=5,r.t0=r.catch(0),console.error("Error al cerrar sesión:",r.t0),s.status(500).send("Error al cerrar sesión");case 9:case"end":return r.stop()}},null,null,[[0,5]])}),module.exports=router;
//# sourceMappingURL=logout.min.js.map
